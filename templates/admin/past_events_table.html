<!-- Past events table -->\n<div class="table-responsive">\n    <table class="table table-sm mb-0">\n        <thead>\n            <tr>\n                <th width="12%">Date</th>\n                <th width="8%">Type</th>\n                <th width="25%">Name</th>\n                <th width="25%">Description</th>\n                <th width="12%">Tournament</th>\n                <th width="10%">Results</th>\n                <th width="8%" class="text-end">Actions</th>\n            </tr>\n        </thead>\n        <tbody>\n            {% if past_events %}\n            {% for event in past_events %}\n            <tr>\n                <td>\n                    {{ event.date }}\n                    {% if event.is_cancelled %}\n                    <br><span class="badge bg-danger badge-sm">Cancelled</span>\n                    {% endif %}\n                </td>\n                <td>\n                    {% if event.event_type == 'sabc_tournament' %}\n                        <span class="badge bg-primary"><i class="bi bi-trophy"></i></span>\n                    {% elif event.event_type == 'federal_holiday' %}\n                        <span class="badge bg-info"><i class="bi bi-calendar-heart"></i></span>\n                    {% elif event.event_type == 'other_tournament' %}\n                        <span class="badge bg-warning"><i class="bi bi-calendar"></i></span>\n                    {% elif event.event_type == 'club_event' %}\n                        <span class="badge bg-secondary"><i class="bi bi-calendar-event"></i></span>\n                    {% else %}\n                        <span class="badge bg-light text-dark">{{ event.event_type[:4] }}</span>\n                    {% endif %}\n                </td>\n                <td>\n                    <strong>{{ event.name }}</strong>\n                    {% if event.event_type == 'sabc_tournament' and event.entry_fee %}\n                    <br><small class="text-muted">${{ "%.2f"|format(event.entry_fee) }}</small>\n                    {% endif %}\n                </td>\n                <td>\n                    {{ event.description }}\n                    {% if event.event_type == 'sabc_tournament' %}\n                        {% if event.lake_name %}\n                        <br><small class="text-muted"><i class="bi bi-geo-alt"></i> {{ event.lake_name }}</small>\n                        {% endif %}\n                        {% if event.start_time %}\n                        <br><small class="text-muted"><i class="bi bi-clock"></i> {{ event.start_time }} - {{ event.weigh_in_time or '15:00' }}</small>\n                        {% endif %}\n                    {% elif event.event_type == 'federal_holiday' %}\n                        <br><small class="text-info">{{ event.holiday_name }}</small>\n                    {% endif %}\n                </td>\n                <td>\n                    {% if event.event_type == 'sabc_tournament' %}\n                        {% if event.tournament_complete %}\n                            <span class="badge bg-success">Complete</span>\n                        {% elif event.has_tournament %}\n                            <span class="badge bg-warning">Incomplete</span>\n                        {% else %}\n                            <span class="badge bg-secondary">None</span>\n                        {% endif %}\n                    {% else %}\n                        <span class="badge bg-secondary">N/A</span>\n                    {% endif %}\n                </td>\n                <td>\n                    {% if event.has_results %}\n                        <span class="badge bg-success">Yes</span>\n                    {% else %}\n                        <span class="badge bg-secondary">No</span>\n                    {% endif %}\n                </td>\n                <td class="text-end">\n                    {% if event.has_results %}\n                    <button class="btn btn-secondary btn-sm" disabled \n                            title="Cannot delete: Tournament has results">\n                        <i class="bi bi-lock"></i>\n                    </button>\n                    {% else %}\n                    <button class="btn btn-danger btn-sm delete-past-event" \n                            data-event-id="{{ event.id }}" \n                            data-event-name="{{ event.name }}" \n                            data-has-deps="{{ (event.has_poll or (event.has_tournament and not event.has_results))|tojson }}">\n                        <i class="bi bi-trash"></i>\n                    </button>\n                    {% endif %}\n                </td>\n            </tr>\n            {% endfor %}\n            {% else %}\n            <tr>\n                <td colspan="7" class="text-center text-muted py-4">\n                    No past events found on this page.\n                </td>\n            </tr>\n            {% endif %}\n        </tbody>\n    </table>\n</div>\n\n<!-- Past Events Pagination (if needed) -->\n{% if past_total_pages > 1 %}\n<div class="card-footer">\n    <nav aria-label="Past events pagination">\n        <ul class="pagination pagination-sm justify-content-center mb-0">\n            {% if past_has_prev %}\n                <li class="page-item">\n                    <a class="page-link" href="/admin/events?upcoming_page={{ upcoming_page }}&past_page={{ past_prev_page }}">Previous</a>\n                </li>\n            {% else %}\n                <li class="page-item disabled">\n                    <span class="page-link">Previous</span>\n                </li>\n            {% endif %}\n            \n            {% for page_num in range(1, past_total_pages + 1) %}\n                {% if page_num == past_page %}\n                    <li class="page-item active">\n                        <span class="page-link">{{ page_num }}</span>\n                    </li>\n                {% elif page_num <= 3 or page_num > past_total_pages - 3 or (page_num >= past_page - 2 and page_num <= past_page + 2) %}\n                    <li class="page-item">\n                        <a class="page-link" href="/admin/events?upcoming_page={{ upcoming_page }}&past_page={{ page_num }}">{{ page_num }}</a>\n                    </li>\n                {% elif page_num == 4 and past_page > 6 %}\n                    <li class="page-item disabled">\n                        <span class="page-link">…</span>\n                    </li>\n                {% elif page_num == past_total_pages - 3 and past_page < past_total_pages - 5 %}\n                    <li class="page-item disabled">\n                        <span class="page-link">…</span>\n                    </li>\n                {% endif %}\n            {% endfor %}\n            \n            {% if past_has_next %}\n                <li class="page-item">\n                    <a class="page-link" href="/admin/events?upcoming_page={{ upcoming_page }}&past_page={{ past_next_page }}">Next</a>\n                </li>\n            {% else %}\n                <li class="page-item disabled">\n                    <span class="page-link">Next</span>\n                </li>\n            {% endif %}\n        </ul>\n        <div class="text-center mt-2">\n            <small class="text-muted">\n                Showing page {{ past_page }} of {{ past_total_pages }} \n                ({{ total_past }} past events)\n            </small>\n        </div>\n    </nav>\n</div>\n{% endif %}